<%- include('layout/header') %>

<div class="container">
  <div class="row my-4">
    <div class="col-lg-12">
      <% if (message) { %>
      <div
        class="alert alert-dismissible fade show alert-<%=message.type%>"
        role="alert"
      >
        <button
          class="btn-close"
          type="button"
          data-bs-dismiss="alert"
          aria-label="Close"
        ></button>
        <strong><%= message.message%></strong>
      </div>
      <% } %>
      <div class="table-responsive">
        <% if (users != '') { %>
        <table class="table table-striped text-center">
          <thead>
            <tr class="table-dark">
              <th>ID</th>
              <th>Nombre</th>
              <th>Precio</th>
              <th>Cantidad</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody>
            <% users.forEach((row, index) => { %> 
            <tr>
              <td><%= index %></td>
              <td><%= row.Nombre %></td>
              <td><%= row.Precio %></td>
              <td><%= row.Cantidad %></td>
              <td>
                <a href="/edit/<%= row.id %>" class="btn btn-warning btn-sm"
                  >Edit</a
                >
                <a href="/delete/<%= row.id %>" class="btn btn-danger btn-sm"
                  >Delete</a
                >
              </td>
              <% }) %>
            </tr>
          </tbody>
        </table>
        <% }else{%>
        <h1 class="text-center text-secundary mt-5">
          No hay productos en la base de datos
        </h1>
        <% } %>
      </div>
    </div>
  </div>
</div>

<%- include('layout/footer') %>
